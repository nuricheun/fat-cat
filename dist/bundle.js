!function(n){var e={};function t(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return n[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(a,i,function(e){return n[e]}.bind(null,i));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";var a=t(2),i=t.n(a)()(!0);i.push([n.i,'body {\n  width: 100%;\n  margin: 0 auto;\n  padding-top: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n}\n\n.game-info {\n  width: 350px;\n  height: 350px;\n  padding: 20px 0;\n  margin: 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-color: #add8e6;\n  font-family: "Lalezar";\n  display: flex;\n\n  flex-direction: column;\n  align-items: center;\n}\n\n.goback {\n  color: #fff;\n  font-size: 30px;\n  cursor: pointer;\n}\n\n.goback:hover {\n  font-size: 35px;\n}\n\n#game-over {\n  width: 460px;\n  height: 350px;\n  display: none;\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n.up {\n  width: 32px;\n  height: 32px;\n  background-position: 0 0;\n}\n\n.down {\n  width: 32px;\n  height: 32px;\n  background-position: 32px 0;\n}\n\n.right {\n  width: 32px;\n  height: 32px;\n  background-position: 64px 0;\n}\n\n.left {\n  width: 32px;\n  height: 32px;\n  background-position: -65px 0;\n}\n\n#main {\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n.exp {\n  cursor: pointer;\n  margin-top: 8px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.exp:hover {\n  font-size: 17px;\n}\n\n.cat-logo {\n  width: 25px;\n  height: 25px;\n}\n\n.catimg-div {\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 20px;\n}\n\n#about-page {\n  display: none;\n}\n\n.title {\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  height: 50px;\n  align-items: center;\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n\n#intro-div {\n  width: 500px;\n  padding: 20px;\n  margin: 0 auto;\n}\n\n.myCanvas {\n  display: none;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.gonext {\n  color: #fff;\n  font-size: 22px;\n  cursor: pointer;\n}\n\n.gonext:hover {\n  font-size: 25px;\n}\n\n#win {\n  display: none;\n  width: 450px;\n  background-color: #fff;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n',"",{version:3,sources:["webpack://src/css/main.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,cAAc;EACd,kBAAkB;EAClB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;EACf,cAAc;EACd,mBAAmB;EACnB,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,aAAa;;EAEb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,4BAA4B;EAC5B,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,2BAA2B;AAC7B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,2BAA2B;AAC7B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,eAAe;EACf,eAAe;EACf,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,mBAAmB;EACnB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,sBAAsB;EACtB,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B;EAC5B,wBAAwB;AAC1B",sourcesContent:['body {\n  width: 100%;\n  margin: 0 auto;\n  padding-top: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n}\n\n.game-info {\n  width: 350px;\n  height: 350px;\n  padding: 20px 0;\n  margin: 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-color: #add8e6;\n  font-family: "Lalezar";\n  display: flex;\n\n  flex-direction: column;\n  align-items: center;\n}\n\n.goback {\n  color: #fff;\n  font-size: 30px;\n  cursor: pointer;\n}\n\n.goback:hover {\n  font-size: 35px;\n}\n\n#game-over {\n  width: 460px;\n  height: 350px;\n  display: none;\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n.up {\n  width: 32px;\n  height: 32px;\n  background-position: 0 0;\n}\n\n.down {\n  width: 32px;\n  height: 32px;\n  background-position: 32px 0;\n}\n\n.right {\n  width: 32px;\n  height: 32px;\n  background-position: 64px 0;\n}\n\n.left {\n  width: 32px;\n  height: 32px;\n  background-position: -65px 0;\n}\n\n#main {\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n.exp {\n  cursor: pointer;\n  margin-top: 8px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.exp:hover {\n  font-size: 17px;\n}\n\n.cat-logo {\n  width: 25px;\n  height: 25px;\n}\n\n.catimg-div {\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 20px;\n}\n\n#about-page {\n  display: none;\n}\n\n.title {\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  height: 50px;\n  align-items: center;\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n\n#intro-div {\n  width: 500px;\n  padding: 20px;\n  margin: 0 auto;\n}\n\n.myCanvas {\n  display: none;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.gonext {\n  color: #fff;\n  font-size: 22px;\n  cursor: pointer;\n}\n\n.gonext:hover {\n  font-size: 25px;\n}\n\n#win {\n  display: none;\n  width: 450px;\n  background-color: #fff;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n'],sourceRoot:""}]),e.a=i},function(n,e,t){"use strict";var a,i=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),r=[];function s(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function c(n,e){for(var t={},a=[],i=0;i<n.length;i++){var o=n[i],c=e.base?o[0]+e.base:o[0],d=t[c]||0,l="".concat(c," ").concat(d);t[c]=d+1;var u=s(l),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(f)):r.push({identifier:l,updater:p(f,e),references:1}),a.push(l)}return a}function d(n){var e=document.createElement("style"),a=n.attributes||{};if(void 0===a.nonce){var i=t.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(n){e.setAttribute(n,a[n])})),"function"==typeof n.insert)n.insert(e);else{var r=o(n.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var l,u=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function f(n,e,t,a){var i=t?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(n.styleSheet)n.styleSheet.cssText=u(e,i);else{var o=document.createTextNode(i),r=n.childNodes;r[e]&&n.removeChild(r[e]),r.length?n.insertBefore(o,r[e]):n.appendChild(o)}}function A(n,e,t){var a=t.css,i=t.media,o=t.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleSheet)n.styleSheet.cssText=a;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(a))}}var h=null,g=0;function p(n,e){var t,a,i;if(e.singleton){var o=g++;t=h||(h=d(e)),a=f.bind(null,t,o,!1),i=f.bind(null,t,o,!0)}else t=d(e),a=A.bind(null,t,e),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return a(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;a(n=e)}else i()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var t=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var a=0;a<t.length;a++){var i=s(t[a]);r[i].references--}for(var o=c(n,e),d=0;d<t.length;d++){var l=s(t[d]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}t=o}}}},function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",a=n[3];if(!a)return t;if(e&&"function"==typeof btoa){var i=(r=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=a.sources.map((function(n){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(n," */")}));return[t].concat(o).concat([i]).join("\n")}var r,s,c;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,a){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);a&&i[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),e.push(c))}},e}},function(n,e,t){"use strict";t.r(e);var a=t(1),i=t.n(a),o=t(0),r={insert:"head",singleton:!1};i()(o.a,r),o.a.locals;function s(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var d=function n(e,t,a,i,o){var r=this,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;s(this,n),c(this,"draw",(function(){r.ctx.drawImage(r.image,r.frameX,r.frameY,r.width,r.height,r.x,r.y,r.width>r.canvas.width?r.canvas.width:r.width,r.height>r.canvas.height?r.canvas.height:r.height)})),c(this,"drawObs",(function(){r.ctx.drawImage(r.image,r.frameX,r.frameY,r.width,r.height,r.canvas.width/2-20,r.canvas.height/2,1.2*r.width,1.2*r.height)})),c(this,"move",(function(n,e){r.x+=n,r.y+=e})),c(this,"changeFrame",(function(n,e){r.frameX=n*r.width,r.frameY=e*r.height})),this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d"),this.x=i,this.y=o,this.frameX=d,this.frameY=l,this.image=new Image,this.image.addEventListener("load",(function(){var n=r.image.naturalWidth,a=r.image.naturalHeight;r.width=e>0?e:n,r.height=t>0?t:a,r.draw(),r.drawObs()})),this.image.src=a};function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var u=function n(){var e=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,"canvas",document.getElementById("myCanvas")),l(this,"ctx",this.canvas.getContext("2d")),l(this,"width",this.canvas.width),l(this,"height",this.canvas.height),l(this,"drawCanvas",(function(n){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.ctx.fillStyle=n,e.ctx.fillRect(0,0,e.canvas.width,e.canvas.height)})),l(this,"clear",(function(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height)})),l(this,"decorateCanvas",(function(n){for(var t=0;t<10;)e.ctx.drawImage(n.image,0,0,n.width,n.height,t*n.height,0,n.width,n.height),e.ctx.drawImage(n.image,0,0,n.width,n.height,t*n.width,e.canvas.height-n.height,n.width,n.height),t++})),l(this,"drawProps",(function(n){for(var e=0,t=Object.keys(n);e<t.length;){n[t[e]].draw(),e++}})),l(this,"drawText",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";e.ctx.fillStyle=t,e.ctx.font="30px Lalezar",e.ctx.textAlign="center",e.ctx.fillText("Round ".concat(n),e.canvas.width/2,110),e.ctx.fillText("YOU CAN EAT",e.canvas.width/2,150)})),l(this,"drawLeftTriesText",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";e.ctx.fillStyle=t,e.ctx.font="28px Lalezar",e.ctx.textAlign="center",e.ctx.fillText("LIFE ".concat(n),e.canvas.width/2+120,50)})),l(this,"drawCurrentLevel",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";e.ctx.fillStyle=t,e.ctx.font="28px Lalezar",e.ctx.textAlign="center",e.ctx.fillText("LEVEL ".concat(n),e.canvas.width/2-120,50)})),l(this,"drawMissText",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";e.ctx.fillStyle=t,e.ctx.font="30px Lalezar",e.ctx.textAlign="center",e.ctx.fillText("Oops",e.canvas.width/2,110),e.ctx.fillText("* ".concat(n," Left*"),e.canvas.width/2,110),e.ctx.fillText("YOU CAN EAT",e.canvas.width/2,150)}))},f=["./src/image/food/apple.png","./src/image/food/banana.png","./src/image/food/beer.png","./src/image/food/burger.png","./src/image/food/cake.png","./src/image/food/cherry.png","./src/image/food/corn.png","./src/image/food/croissant.png","./src/image/food/custard.png","./src/image/food/dango.png","./src/image/food/donut.png","./src/image/food/fries.png","./src/image/food/grapes.png","./src/image/food/ice_cream.png","./src/image/food/lemon.png","./src/image/food/meat.png","./src/image/food/orange.png","./src/image/food/peach.png","./src/image/food/pear.png","./src/image/food/pie.png","./src/image/food/pineapple.png","./src/image/food/pisha.png","./src/image/food/ramen.png","./src/image/food/shaved_ice.png","./src/image/food/spaghetti.png","./src/image/food/strawberry.png","./src/image/food/sushi.png","./src/image/food/sweet_potato.png"],A={miss:["./src/image/cat/missOne.png","./src/image/cat/missTwo.png","./src/image/cat/missThree.png"],pass:["./src/image/cat/passOne.png","./src/image/cat/passTwo.png","./src/image/cat/passThree.png","./src/image/cat/passFour.png","./src/image/cat/passFive.png"],win:["./src/image/cat/winner.png"],lose:["./src/image/cat/lose.png"]};function h(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var g=function n(){var e=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),h(this,"canvas",new u),h(this,"frameX",0),h(this,"frameY",0),h(this,"rightPressed",!1),h(this,"leftPressed",!1),h(this,"upPressed",!1),h(this,"downPressed",!1),h(this,"spacePressed",!1),h(this,"cat",void 0),h(this,"background",new d(0,0,"./image/cat/pantry.png",0,0)),h(this,"resultCat",function(){var n={},e=function(e){e in n||(n[e]=[]),A[e].forEach((function(t){return n[e].push(new d(0,0,t,0,0))}))};for(var t in A)e(t);return n}()),h(this,"foods",{}),h(this,"obstacle",new Set),h(this,"miss",!1),h(this,"pass",!1),h(this,"initItems",(function(n){return new Promise((function(t,a){e.miss=!1,e.pass=!1,e.cat=new d(32,32,"./image/fatcat.png",63,335,e.frameX,e.frameY),e.foods=function(n,e){for(var t=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:63,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:72,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:46,i=[],o=0;o<5;o++)for(var r=0;r<6;r++)4===o&&0===r||4===o&&1===r||i.push([n+a*r,e+t*o]);return i}(),a=0,i=new Set,o=new Set,r=n+12,s={};i.size<r;)a=Math.floor(Math.random()*e.length),i.add(a);for(;o.size<r;)a=Math.floor(Math.random()*t.length),o.add(a);for(var c=Array.from(i),l=Array.from(o),u=0;u<c.length;u++)s[u]=new d(32,32,e[c[u]],t[l[u]][0],t[l[u]][1]);return s}(n,f),e.obstacle=function(n,e){for(var t=new Set;t.size<n;){var a=Math.floor(Math.random()*e.length);t.add(e[a])}return t}(n+2,Object.keys(e.foods)),t(1)}))})),h(this,"drawBoard",(function(){e.canvas.drawProps(e.foods)})),h(this,"gameOver",(function(){e.canvas.clear()})),h(this,"beforeGameStart",(function(n,t,a){return new Promise((function(i,o){var r=Date.now();!function o(){e.canvas.drawCanvas("green"),e.canvas.drawText(n),e.canvas.drawLeftTriesText(t),e.canvas.drawCurrentLevel(a),Date.now()-r<1200?requestAnimationFrame(o):i()}()}))})),h(this,"showObstacle",(function(n,t,a){return new Promise((function(i,o){var r=0,s=Array.from(e.obstacle),c=s.length,d=Date.now();!function o(){e.canvas.clear(),e.canvas.drawCanvas("green"),e.canvas.drawText(n),e.canvas.drawLeftTriesText(t),e.canvas.drawCurrentLevel(a),e.foods[s[r]].drawObs(),r<c&&Date.now()-d<800-10*(a-1)?requestAnimationFrame(o):r<c-1?(r++,d=Date.now(),requestAnimationFrame(o)):i()}()}))})),h(this,"roundResult",(function(){return new Promise((function(n,t){var a;a=e.miss?"miss":"pass";var i=Date.now();!function t(){e.canvas.clear(),e.canvas.drawCanvas("white"),e.canvas.drawMissText(e.miss),e.resultCat[a][0].draw(),Date.now()-i<1500?requestAnimationFrame(t):n({miss:"miss"===a?-1:0})}()}))})),h(this,"deleteItem",(function(){var n,t;for(var a in e.foods){var i=e.foods[a];n=i.x,t=i.y,n-20<=e.cat.x+3&&n+i.width>=e.cat.x+e.cat.width-3&&t-20<=e.cat.y+3&&t+i.height>=e.cat.y+e.cat.height-3&&e.spacePressed&&(e.obstacle.has(a)?(delete e.foods[a],e.obstacle.delete(a),e.spacePressed=!1):e.miss=!0)}})),h(this,"animate",(function(){return new Promise((function(n,t){!function t(){e.canvas.clear(),e.background.draw(),e.drawBoard(),e.positionChange(e.cat),e.spritePositionUpdate(),e.deleteItem(),e.isEqual(e.obstacle),e.cat.draw(),e.miss||e.pass?n("3"):requestAnimationFrame(t)}()}))})),h(this,"keyUpHandler",(function(n){39===n.keyCode?e.rightPressed=!1:37===n.keyCode?e.leftPressed=!1:38===n.keyCode?e.upPressed=!1:40===n.keyCode?e.downPressed=!1:32===n.keyCode&&(e.spacePressed=!1)})),h(this,"keyDownHandler",(function(n){var t=0;39===n.keyCode?e.rightPressed=!0:37===n.keyCode?e.leftPressed=!0:38===n.keyCode?(e.upPressed=!0,t-=74,console.log(t)):40===n.keyCode?(e.downPressed=!0,t+=74):32===n.keyCode&&(e.spacePressed=!0),e.cat.move(0,t)})),h(this,"positionChange",(function(n){var t=0;e.rightPressed&&n.x<e.canvas.width-n.width?t+=3:e.leftPressed&&n.x>0&&(t-=3),n.move(t,0)})),h(this,"spritePositionUpdate",(function(){e.rightPressed||e.leftPressed?e.frameX>=8?e.frameX=6:e.frameX+=1:(e.upPressed||e.downPressed)&&(e.frameX>=2?e.frameX=0:e.frameX+=1),e.cat.changeFrame(e.frameX,0)})),h(this,"isEqual",(function(n){0===n.size&&(e.pass=!0)})),window.addEventListener("keydown",this.keyDownHandler,!1),window.addEventListener("keyup",this.keyUpHandler,!1)};function p(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var m=function n(){var e=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),p(this,"level",1),p(this,"board",new g),p(this,"done",document.getElementById("game-over")),p(this,"win",document.getElementById("win")),p(this,"obstacles",new Set),p(this,"round",1),p(this,"tries",3),p(this,"currentScore",0),p(this,"play",(function(){return e.tries<=0?(e.board.gameOver(),e.tries=3,void(e.done.style.display="flex")):2===e.round?(e.board.gameOver(),e.level++,e.round=1,void(e.win.style.display="flex")):void e.board.initItems(e.round).then((function(n){return e.board.beforeGameStart(e.round,e.tries,e.level)})).then((function(n){return e.board.showObstacle(e.round,e.tries,e.level)})).then((function(n){return e.board.animate()})).then((function(n){return e.board.roundResult()})).then((function(n){e.tries+=n.miss,e.round+=n.miss+1,e.play()}))}))};function v(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w=function n(){var e=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),v(this,"aboutButtonHandler",(function(){e.about.style.display="flex",e.gameIntro.style.display="none"})),v(this,"startButtonHandler",(function(){e.main.style.display="flex",e.gameIntro.style.display="none",e.game=new m,e.game.play()})),v(this,"backButtonHandler",(function(){e.about.style.display="none",e.gameIntro.style.display=""})),v(this,"backToMainButtonHandler",(function(){e.gameIntro.style.display="flex",e.gameover.style.display="none"})),v(this,"nextButtonHandler",(function(){e.main.style.display="flex",e.win.style.display="none",e.game.play()})),this.game=null,this.main=document.getElementById("main"),this.about=document.getElementById("about-page"),this.gameover=document.getElementById("game-over"),this.win=document.getElementById("win"),this.gameIntro=document.getElementById("game-intro"),this.startButton=document.getElementById("start"),this.aboutButton=document.getElementById("about"),this.backButton=document.getElementById("back"),this.backToMainButton=document.getElementById("back-to-main"),this.nextLevelButton=document.getElementById("next-level"),this.main.style.display="flex",this.gameStart=!1,this.gameover.style.backgroundImage="url('./image/cat/lose.png')",this.win.style.backgroundImage="url('./image/cat/winner.png')",this.aboutButton.addEventListener("click",this.aboutButtonHandler),this.startButton.addEventListener("click",this.startButtonHandler),this.backButton.addEventListener("click",this.backButtonHandler),this.backToMainButton.addEventListener("click",this.backToMainButtonHandler),this.nextLevelButton.addEventListener("click",this.nextButtonHandler)};window.onload=function(n){new w}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL21haW4uY3NzPzJjOWYiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Byb3AuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9kYXRhLmpzIiwid2VicGFjazovLy8uL3NyYy9ib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9nZW5lcmF0ZVJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9yYW5kb21HZW5lcmF0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsL2dlbmVyYXRlT2JzdGFjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludHJvUGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0Iiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsInVzZVNvdXJjZU1hcCIsInRoaXMiLCJtYXAiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJkYXRhIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibG9jYWxzIiwiUHJvcCIsIndpZHRoIiwiaGVpZ2h0IiwiaW1hZ2VVcmwiLCJ4IiwieSIsImZyYW1lWCIsImZyYW1lWSIsImN0eCIsImRyYXdJbWFnZSIsImltYWdlIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiSW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImRyYXciLCJkcmF3T2JzIiwic3JjIiwiQ2FudmFzIiwiY29sb3IiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInByb3AiLCJwcm9wcyIsImxldmVsIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwidHJpZXMiLCJtaXNzTGVmdCIsImZvb2RVcmxzIiwiZ2FtZVJlc3VsdEltZ1VybHMiLCJtaXNzIiwicGFzcyIsIndpbiIsImxvc2UiLCJCb2FyZCIsImdhbWVSZXN1bHRQcm9wcyIsImdlbmVyYXRlUmVzdWx0UHJvcHMiLCJTZXQiLCJyb3VuZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2F0IiwiZm9vZHMiLCJjdXJyZW50TGV2ZWwiLCJpbWFnZVVybHMiLCJwb3NpdGlvbkFycmF5IiwiZmlyc3RYIiwiZmlyc3RZIiwiaiIsInBvc2l0aW9uQXJyR2VuZXJhdG9yIiwiaWR4IiwicmFuZG9tSW1hZ2VVcmxzIiwicmFuZG9tUG9zaXRpb25TZXQiLCJlbGVtZW50Q291bnQiLCJzaXplIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYWRkIiwiaW1nQXJyIiwiQXJyYXkiLCJmcm9tIiwicG9zQXJyIiwiZ2VuZXJhdGVSYW5kb21Qcm9wcyIsIm9ic3RhY2xlIiwiZm9vZEtleXMiLCJvYnN0YWNsZUtleXMiLCJyYW5kb21LZXkiLCJnZW5lcmF0ZU9ic3RhY2xlIiwiZHJhd1Byb3BzIiwiY2xlYXIiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJiYWNrZ3JvdW5kTG9vcCIsImRyYXdDYW52YXMiLCJkcmF3VGV4dCIsImRyYXdMZWZ0VHJpZXNUZXh0IiwiZHJhd0N1cnJlbnRMZXZlbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVuZCIsIm9ic3RhY2xlTG9vcCIsInJlbmRlciIsImxvb3AiLCJkcmF3TWlzc1RleHQiLCJyZXN1bHRDYXQiLCJmb29kWCIsImZvb2RZIiwiZm9vZCIsInNwYWNlUHJlc3NlZCIsImhhcyIsImFuaW1hdGVMb29wIiwiYmFja2dyb3VuZCIsImRyYXdCb2FyZCIsInBvc2l0aW9uQ2hhbmdlIiwic3ByaXRlUG9zaXRpb25VcGRhdGUiLCJkZWxldGVJdGVtIiwiaXNFcXVhbCIsImtleUNvZGUiLCJyaWdodFByZXNzZWQiLCJsZWZ0UHJlc3NlZCIsInVwUHJlc3NlZCIsImRvd25QcmVzc2VkIiwiY29uc29sZSIsImxvZyIsIm1vdmUiLCJjaGFuZ2VGcmFtZSIsIm9ic3RhY2xlU2V0Iiwia2V5RG93bkhhbmRsZXIiLCJrZXlVcEhhbmRsZXIiLCJHYW1lIiwiYm9hcmQiLCJnYW1lT3ZlciIsImRvbmUiLCJkaXNwbGF5IiwiaW5pdEl0ZW1zIiwidGhlbiIsInJlcyIsImJlZm9yZUdhbWVTdGFydCIsInNob3dPYnN0YWNsZSIsImFuaW1hdGUiLCJyb3VuZFJlc3VsdCIsInBsYXkiLCJJbnRyb1BhZ2UiLCJhYm91dCIsImdhbWVJbnRybyIsIm1haW4iLCJnYW1lIiwiZ2FtZW92ZXIiLCJzdGFydEJ1dHRvbiIsImFib3V0QnV0dG9uIiwiYmFja0J1dHRvbiIsImJhY2tUb01haW5CdXR0b24iLCJuZXh0TGV2ZWxCdXR0b24iLCJnYW1lU3RhcnQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhYm91dEJ1dHRvbkhhbmRsZXIiLCJzdGFydEJ1dHRvbkhhbmRsZXIiLCJiYWNrQnV0dG9uSGFuZGxlciIsImJhY2tUb01haW5CdXR0b25IYW5kbGVyIiwibmV4dEJ1dHRvbkhhbmRsZXIiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBF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U0FBUzhHLGVBQWUsUUFDMUM1QixLQUFLMkosaUJBQW1CN08sU0FBUzhHLGVBQWUsZ0JBQ2hENUIsS0FBSzRKLGdCQUFrQjlPLFNBQVM4RyxlQUFlLGNBRS9DNUIsS0FBS3FKLEtBQUtwTSxNQUFNd0wsUUFBVSxPQUMxQnpJLEtBQUs2SixXQUFZLEVBQ2pCN0osS0FBS3VKLFNBQVN0TSxNQUFNNk0sZ0JBQWtCLDhCQUN0QzlKLEtBQUtzRCxJQUFJckcsTUFBTTZNLGdCQUFrQixnQ0FFakM5SixLQUFLeUosWUFBWTFILGlCQUFpQixRQUFTL0IsS0FBSytKLG9CQUNoRC9KLEtBQUt3SixZQUFZekgsaUJBQWlCLFFBQVMvQixLQUFLZ0ssb0JBQ2hEaEssS0FBSzBKLFdBQVczSCxpQkFBaUIsUUFBUy9CLEtBQUtpSyxtQkFDL0NqSyxLQUFLMkosaUJBQWlCNUgsaUJBQ3BCLFFBQ0EvQixLQUFLa0sseUJBRVBsSyxLQUFLNEosZ0JBQWdCN0gsaUJBQWlCLFFBQVMvQixLQUFLbUssb0JDMUJ4RHRQLE9BQU91UCxPQUFTLFNBQUM1TyxHQUNmLElBQUkwTiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBwYWRkaW5nLXRvcDogMjAwcHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmdhbWUtaW5mbyB7XFxuICB3aWR0aDogMzUwcHg7XFxuICBoZWlnaHQ6IDM1MHB4O1xcbiAgcGFkZGluZzogMjBweCAwO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWRkOGU2O1xcbiAgZm9udC1mYW1pbHk6IFxcXCJMYWxlemFyXFxcIjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuXFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmdvYmFjayB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMzBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmdvYmFjazpob3ZlciB7XFxuICBmb250LXNpemU6IDM1cHg7XFxufVxcblxcbiNnYW1lLW92ZXIge1xcbiAgd2lkdGg6IDQ2MHB4O1xcbiAgaGVpZ2h0OiAzNTBweDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcXG59XFxuXFxuLnVwIHtcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwO1xcbn1cXG5cXG4uZG93biB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDMycHggMDtcXG59XFxuXFxuLnJpZ2h0IHtcXG4gIHdpZHRoOiAzMnB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogNjRweCAwO1xcbn1cXG5cXG4ubGVmdCB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC02NXB4IDA7XFxufVxcblxcbiNtYWluIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uZXhwIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbi10b3A6IDhweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG59XFxuXFxuLmV4cDpob3ZlciB7XFxuICBmb250LXNpemU6IDE3cHg7XFxufVxcblxcbi5jYXQtbG9nbyB7XFxuICB3aWR0aDogMjVweDtcXG4gIGhlaWdodDogMjVweDtcXG59XFxuXFxuLmNhdGltZy1kaXYge1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBtYXJnaW4tdG9wOiA1MHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG59XFxuXFxuI2Fib3V0LXBhZ2Uge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnRpdGxlIHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuI2ludHJvLWRpdiB7XFxuICB3aWR0aDogNTAwcHg7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgbWFyZ2luOiAwIGF1dG87XFxufVxcblxcbi5teUNhbnZhcyB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW46IDAgYXV0bztcXG59XFxuXFxuLmdvbmV4dCB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMjJweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmdvbmV4dDpob3ZlciB7XFxuICBmb250LXNpemU6IDI1cHg7XFxufVxcblxcbiN3aW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHdpZHRoOiA0NTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9jc3MvbWFpbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxXQUFXO0VBQ1gsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixlQUFlO0VBQ2YsY0FBYztFQUNkLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIseUJBQXlCO0VBQ3pCLHNCQUFzQjtFQUN0QixhQUFhOztFQUViLHNCQUFzQjtFQUN0QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLDRCQUE0QjtFQUM1Qix3QkFBd0I7QUFDMUI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZixlQUFlO0VBQ2YsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsY0FBYztFQUNkLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGVBQWU7RUFDZixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLDRCQUE0QjtFQUM1Qix3QkFBd0I7QUFDMUJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgcGFkZGluZy10b3A6IDIwMHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5nYW1lLWluZm8ge1xcbiAgd2lkdGg6IDM1MHB4O1xcbiAgaGVpZ2h0OiAzNTBweDtcXG4gIHBhZGRpbmc6IDIwcHggMDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FkZDhlNjtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiTGFsZXphclxcXCI7XFxuICBkaXNwbGF5OiBmbGV4O1xcblxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5nb2JhY2sge1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5nb2JhY2s6aG92ZXIge1xcbiAgZm9udC1zaXplOiAzNXB4O1xcbn1cXG5cXG4jZ2FtZS1vdmVyIHtcXG4gIHdpZHRoOiA0NjBweDtcXG4gIGhlaWdodDogMzUwcHg7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxufVxcblxcbi51cCB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG59XFxuXFxuLmRvd24ge1xcbiAgd2lkdGg6IDMycHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAzMnB4IDA7XFxufVxcblxcbi5yaWdodCB7XFxuICB3aWR0aDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDY0cHggMDtcXG59XFxuXFxuLmxlZnQge1xcbiAgd2lkdGg6IDMycHg7XFxuICBoZWlnaHQ6IDMycHg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjVweCAwO1xcbn1cXG5cXG4jbWFpbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLmV4cCB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDE2cHg7XFxufVxcblxcbi5leHA6aG92ZXIge1xcbiAgZm9udC1zaXplOiAxN3B4O1xcbn1cXG5cXG4uY2F0LWxvZ28ge1xcbiAgd2lkdGg6IDI1cHg7XFxuICBoZWlnaHQ6IDI1cHg7XFxufVxcblxcbi5jYXRpbWctZGl2IHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogNTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbiNhYm91dC1wYWdlIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi50aXRsZSB7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgaGVpZ2h0OiA1MHB4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogMzBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbiNpbnRyby1kaXYge1xcbiAgd2lkdGg6IDUwMHB4O1xcbiAgcGFkZGluZzogMjBweDtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbn1cXG5cXG4ubXlDYW52YXMge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxufVxcblxcbi5nb25leHQge1xcbiAgY29sb3I6ICNmZmY7XFxuICBmb250LXNpemU6IDIycHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5nb25leHQ6aG92ZXIge1xcbiAgZm9udC1zaXplOiAyNXB4O1xcbn1cXG5cXG4jd2luIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB3aWR0aDogNDUwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJleHBvcnQgY2xhc3MgUHJvcCB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIGltYWdlVXJsLCB4LCB5LCBmcmFtZVggPSAwLCBmcmFtZVkgPSAwKSB7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2FudmFzXCIpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmZyYW1lWCA9IGZyYW1lWDtcbiAgICB0aGlzLmZyYW1lWSA9IGZyYW1lWTtcblxuICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGxldCBuYXR1cmFsV2lkdGggPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgIGxldCBuYXR1cmFsSGVpZ2h0ID0gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoID4gMCA/IHdpZHRoIDogbmF0dXJhbFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgPiAwID8gaGVpZ2h0IDogbmF0dXJhbEhlaWdodDtcblxuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICB0aGlzLmRyYXdPYnMoKTtcbiAgICB9KTtcbiAgICB0aGlzLmltYWdlLnNyYyA9IGltYWdlVXJsO1xuICB9XG5cbiAgZHJhdyA9ICgpID0+IHtcbiAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICB0aGlzLmltYWdlLFxuICAgICAgdGhpcy5mcmFtZVgsXG4gICAgICB0aGlzLmZyYW1lWSxcbiAgICAgIHRoaXMud2lkdGgsXG4gICAgICB0aGlzLmhlaWdodCxcbiAgICAgIHRoaXMueCxcbiAgICAgIHRoaXMueSxcbiAgICAgIHRoaXMud2lkdGggPiB0aGlzLmNhbnZhcy53aWR0aCA/IHRoaXMuY2FudmFzLndpZHRoIDogdGhpcy53aWR0aCxcbiAgICAgIHRoaXMuaGVpZ2h0ID4gdGhpcy5jYW52YXMuaGVpZ2h0ID8gdGhpcy5jYW52YXMuaGVpZ2h0IDogdGhpcy5oZWlnaHRcbiAgICApO1xuICB9O1xuXG4gIGRyYXdPYnMgPSAoKSA9PiB7XG4gICAgdGhpcy5jdHguZHJhd0ltYWdlKFxuICAgICAgdGhpcy5pbWFnZSxcbiAgICAgIHRoaXMuZnJhbWVYLFxuICAgICAgdGhpcy5mcmFtZVksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIgLSAyMCxcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDIsXG4gICAgICB0aGlzLndpZHRoICogMS4yLFxuICAgICAgdGhpcy5oZWlnaHQgKiAxLjJcbiAgICApO1xuICB9O1xuXG4gIG1vdmUgPSAoeCwgeSkgPT4ge1xuICAgIHRoaXMueCArPSB4O1xuICAgIHRoaXMueSArPSB5O1xuICB9O1xuXG4gIGNoYW5nZUZyYW1lID0gKHgsIHkpID0+IHtcbiAgICB0aGlzLmZyYW1lWCA9IHggKiB0aGlzLndpZHRoO1xuICAgIHRoaXMuZnJhbWVZID0geSAqIHRoaXMuaGVpZ2h0O1xuICB9O1xufVxuIiwiZXhwb3J0IGNsYXNzIENhbnZhcyB7XG4gIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlDYW52YXNcIik7XG4gIGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgd2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuXG4gIGRyYXdDYW52YXMgPSAoY29sb3IpID0+IHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gIH07XG5cbiAgY2xlYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICB9O1xuXG4gIGRlY29yYXRlQ2FudmFzID0gKHByb3ApID0+IHtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IDEwKSB7XG4gICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHByb3AuaW1hZ2UsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHByb3Aud2lkdGgsXG4gICAgICAgIHByb3AuaGVpZ2h0LFxuICAgICAgICBpICogcHJvcC5oZWlnaHQsXG4gICAgICAgIDAsXG4gICAgICAgIHByb3Aud2lkdGgsXG4gICAgICAgIHByb3AuaGVpZ2h0XG4gICAgICApO1xuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxuICAgICAgICBwcm9wLmltYWdlLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICBwcm9wLndpZHRoLFxuICAgICAgICBwcm9wLmhlaWdodCxcbiAgICAgICAgaSAqIHByb3Aud2lkdGgsXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAtIHByb3AuaGVpZ2h0LFxuICAgICAgICBwcm9wLndpZHRoLFxuICAgICAgICBwcm9wLmhlaWdodFxuICAgICAgKTtcbiAgICAgIGkrKztcbiAgICB9XG4gIH07XG5cbiAgZHJhd1Byb3BzID0gKHByb3BzKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgbGV0IHByb3AgPSBwcm9wc1trZXlzW2ldXTtcbiAgICAgIHByb3AuZHJhdygpO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfTtcblxuICBkcmF3VGV4dCA9IChsZXZlbCwgY29sb3IgPSBcIiNmZmZcIikgPT4ge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY3R4LmZvbnQgPSBcIjMwcHggTGFsZXphclwiO1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgdGhpcy5jdHguZmlsbFRleHQoYFJvdW5kICR7bGV2ZWx9YCwgdGhpcy5jYW52YXMud2lkdGggLyAyLCAxMTApO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGBZT1UgQ0FOIEVBVGAsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgMTUwKTtcbiAgfTtcblxuICBkcmF3TGVmdFRyaWVzVGV4dCA9ICh0cmllcywgY29sb3IgPSBcIiNmZmZcIikgPT4ge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY3R4LmZvbnQgPSBcIjI4cHggTGFsZXphclwiO1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgdGhpcy5jdHguZmlsbFRleHQoYExJRkUgJHt0cmllc31gLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIgKyAxMjAsIDUwKTtcbiAgfTtcblxuICBkcmF3Q3VycmVudExldmVsID0gKGxldmVsLCBjb2xvciA9IFwiI2ZmZlwiKSA9PiB7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgdGhpcy5jdHguZm9udCA9IFwiMjhweCBMYWxlemFyXCI7XG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICB0aGlzLmN0eC5maWxsVGV4dChgTEVWRUwgJHtsZXZlbH1gLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIgLSAxMjAsIDUwKTtcbiAgfTtcblxuICBkcmF3TWlzc1RleHQgPSAobWlzc0xlZnQsIGNvbG9yID0gXCIjZmZmXCIpID0+IHtcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICB0aGlzLmN0eC5mb250ID0gXCIzMHB4IExhbGV6YXJcIjtcbiAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gICAgdGhpcy5jdHguZmlsbFRleHQoXCJPb3BzXCIsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgMTEwKTtcbiAgICB0aGlzLmN0eC5maWxsVGV4dChgKiAke21pc3NMZWZ0fSBMZWZ0KmAsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgMTEwKTtcbiAgICB0aGlzLmN0eC5maWxsVGV4dChgWU9VIENBTiBFQVRgLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIsIDE1MCk7XG4gIH07XG59XG4iLCJleHBvcnQgY29uc3QgZm9vZFVybHMgPSBbXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9hcHBsZS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL2JhbmFuYS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL2JlZXIucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9idXJnZXIucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9jYWtlLnBuZ1wiLFxuICBcIi4vc3JjL2ltYWdlL2Zvb2QvY2hlcnJ5LnBuZ1wiLFxuICBcIi4vc3JjL2ltYWdlL2Zvb2QvY29ybi5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL2Nyb2lzc2FudC5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL2N1c3RhcmQucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9kYW5nby5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL2RvbnV0LnBuZ1wiLFxuICBcIi4vc3JjL2ltYWdlL2Zvb2QvZnJpZXMucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9ncmFwZXMucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9pY2VfY3JlYW0ucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9sZW1vbi5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL21lYXQucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9vcmFuZ2UucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9wZWFjaC5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL3BlYXIucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9waWUucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9waW5lYXBwbGUucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9waXNoYS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL3JhbWVuLnBuZ1wiLFxuICBcIi4vc3JjL2ltYWdlL2Zvb2Qvc2hhdmVkX2ljZS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL3NwYWdoZXR0aS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL3N0cmF3YmVycnkucG5nXCIsXG4gIFwiLi9zcmMvaW1hZ2UvZm9vZC9zdXNoaS5wbmdcIixcbiAgXCIuL3NyYy9pbWFnZS9mb29kL3N3ZWV0X3BvdGF0by5wbmdcIixcbl07XG5cbmV4cG9ydCBjb25zdCBnYW1lUmVzdWx0SW1nVXJscyA9IHtcbiAgbWlzczogW1xuICAgIFwiLi9zcmMvaW1hZ2UvY2F0L21pc3NPbmUucG5nXCIsXG4gICAgXCIuL3NyYy9pbWFnZS9jYXQvbWlzc1R3by5wbmdcIixcbiAgICBcIi4vc3JjL2ltYWdlL2NhdC9taXNzVGhyZWUucG5nXCIsXG4gIF0sXG4gIHBhc3M6IFtcbiAgICBcIi4vc3JjL2ltYWdlL2NhdC9wYXNzT25lLnBuZ1wiLFxuICAgIFwiLi9zcmMvaW1hZ2UvY2F0L3Bhc3NUd28ucG5nXCIsXG4gICAgXCIuL3NyYy9pbWFnZS9jYXQvcGFzc1RocmVlLnBuZ1wiLFxuICAgIFwiLi9zcmMvaW1hZ2UvY2F0L3Bhc3NGb3VyLnBuZ1wiLFxuICAgIFwiLi9zcmMvaW1hZ2UvY2F0L3Bhc3NGaXZlLnBuZ1wiLFxuICBdLFxuICB3aW46IFtcIi4vc3JjL2ltYWdlL2NhdC93aW5uZXIucG5nXCJdLFxuICBsb3NlOiBbXCIuL3NyYy9pbWFnZS9jYXQvbG9zZS5wbmdcIl0sXG59O1xuXG5leHBvcnQgY29uc3QgcG9zaXRpb25BcnJheSA9IFtcbiAgWzczLCA0Nl0sXG4gIFs3MyArIDQ3LCA0Nl0sXG4gIFs3MyArIDQ3ICogMiwgNDZdLFxuICBbNzMgKyA0NyAqIDMsIDQ2XSxcbiAgWzczICsgNDcgKiA0LCA0Nl0sXG4gIFs3MyArIDQ3ICogNSwgNDZdLFxuICBbNzMgKyA0NyAqIDYsIDQ2XSxcbiAgWzczICsgMzEwLCA0Nl0sXG5dO1xuIiwiaW1wb3J0IHsgUHJvcCB9IGZyb20gXCIuL3Byb3BcIjtcbmltcG9ydCB7IENhbnZhcyB9IGZyb20gXCIuL2NhbnZhc1wiO1xuaW1wb3J0IHsgZm9vZFVybHMgfSBmcm9tIFwiLi91dGlsL2RhdGFcIjtcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tUHJvcHMgfSBmcm9tIFwiLi91dGlsL3JhbmRvbUdlbmVyYXRpb25cIjtcbmltcG9ydCB7IGdlbmVyYXRlT2JzdGFjbGUgfSBmcm9tIFwiLi91dGlsL2dlbmVyYXRlT2JzdGFjbGVcIjtcbmltcG9ydCB7IGdlbmVyYXRlUmVzdWx0UHJvcHMgfSBmcm9tIFwiLi91dGlsL2dlbmVyYXRlUmVzdWx0XCI7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmtleURvd25IYW5kbGVyLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLmtleVVwSGFuZGxlciwgZmFsc2UpO1xuICB9XG4gIGNhbnZhcyA9IG5ldyBDYW52YXMoKTtcblxuICBmcmFtZVggPSAwO1xuICBmcmFtZVkgPSAwO1xuXG4gIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xuICB1cFByZXNzZWQgPSBmYWxzZTtcbiAgZG93blByZXNzZWQgPSBmYWxzZTtcbiAgc3BhY2VQcmVzc2VkID0gZmFsc2U7XG5cbiAgY2F0O1xuICBiYWNrZ3JvdW5kID0gbmV3IFByb3AoMCwgMCwgXCIuL2ltYWdlL2NhdC9wYW50cnkucG5nXCIsIDAsIDApO1xuXG4gIHJlc3VsdENhdCA9IGdlbmVyYXRlUmVzdWx0UHJvcHMoKTtcbiAgZm9vZHMgPSB7fTtcbiAgb2JzdGFjbGUgPSBuZXcgU2V0KCk7XG5cbiAgbWlzcyA9IGZhbHNlO1xuICBwYXNzID0gZmFsc2U7XG5cbiAgaW5pdEl0ZW1zID0gKHJvdW5kKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubWlzcyA9IGZhbHNlO1xuICAgICAgdGhpcy5wYXNzID0gZmFsc2U7XG4gICAgICB0aGlzLmNhdCA9IG5ldyBQcm9wKFxuICAgICAgICAzMixcbiAgICAgICAgMzIsXG4gICAgICAgIFwiLi9pbWFnZS9mYXRjYXQucG5nXCIsXG4gICAgICAgIDYzLFxuICAgICAgICAzMzUsXG4gICAgICAgIHRoaXMuZnJhbWVYLFxuICAgICAgICB0aGlzLmZyYW1lWVxuICAgICAgKTtcbiAgICAgIHRoaXMuZm9vZHMgPSBnZW5lcmF0ZVJhbmRvbVByb3BzKHJvdW5kLCBmb29kVXJscyk7XG4gICAgICB0aGlzLm9ic3RhY2xlID0gZ2VuZXJhdGVPYnN0YWNsZShyb3VuZCArIDIsIE9iamVjdC5rZXlzKHRoaXMuZm9vZHMpKTtcblxuICAgICAgcmVzb2x2ZSgxKTtcbiAgICB9KTtcbiAgfTtcblxuICBkcmF3Qm9hcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5jYW52YXMuZHJhd1Byb3BzKHRoaXMuZm9vZHMpO1xuICB9O1xuXG4gIGdhbWVPdmVyID0gKCkgPT4ge1xuICAgIHRoaXMuY2FudmFzLmNsZWFyKCk7XG4gIH07XG5cbiAgYmVmb3JlR2FtZVN0YXJ0ID0gKHJvdW5kLCB0cmllcywgbGV2ZWwpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRMb29wID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3Q2FudmFzKFwiZ3JlZW5cIik7XG4gICAgICAgIHRoaXMuY2FudmFzLmRyYXdUZXh0KHJvdW5kKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZHJhd0xlZnRUcmllc1RleHQodHJpZXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3Q3VycmVudExldmVsKGxldmVsKTtcblxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0IDwgMTIwMCkge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShiYWNrZ3JvdW5kTG9vcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYmFja2dyb3VuZExvb3AoKTtcbiAgICB9KTtcbiAgfTtcblxuICBzaG93T2JzdGFjbGUgPSAocm91bmQsIHRyaWVzLCBsZXZlbCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgaWR4ID0gMDtcbiAgICAgIGxldCBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLm9ic3RhY2xlKTtcbiAgICAgIGxldCBlbmQgPSBrZXlzLmxlbmd0aDtcbiAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBvYnN0YWNsZUxvb3AgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FudmFzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuY2FudmFzLmRyYXdDYW52YXMoXCJncmVlblwiKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZHJhd1RleHQocm91bmQpO1xuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3TGVmdFRyaWVzVGV4dCh0cmllcyk7XG4gICAgICAgIHRoaXMuY2FudmFzLmRyYXdDdXJyZW50TGV2ZWwobGV2ZWwpO1xuICAgICAgICB0aGlzLmZvb2RzW2tleXNbaWR4XV0uZHJhd09icygpO1xuXG4gICAgICAgIGlmIChpZHggPCBlbmQgJiYgRGF0ZS5ub3coKSAtIHN0YXJ0IDwgODAwIC0gKGxldmVsIC0gMSkgKiAxMCkge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShvYnN0YWNsZUxvb3ApO1xuICAgICAgICB9IGVsc2UgaWYgKGlkeCA8IGVuZCAtIDEpIHtcbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgICBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9ic3RhY2xlTG9vcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb2JzdGFjbGVMb29wKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcm91bmRSZXN1bHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCByZW5kZXI7XG5cbiAgICAgIGlmICh0aGlzLm1pc3MpIHtcbiAgICAgICAgcmVuZGVyID0gXCJtaXNzXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXIgPSBcInBhc3NcIjtcbiAgICAgIH1cbiAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbnZhcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmNhbnZhcy5kcmF3Q2FudmFzKFwid2hpdGVcIik7XG4gICAgICAgIHRoaXMuY2FudmFzLmRyYXdNaXNzVGV4dCh0aGlzLm1pc3MpO1xuXG4gICAgICAgIHRoaXMucmVzdWx0Q2F0W3JlbmRlcl1bMF0uZHJhdygpO1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0IDwgMTUwMCkge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHsgbWlzczogcmVuZGVyID09PSBcIm1pc3NcIiA/IC0xIDogMCB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxvb3AoKTtcbiAgICB9KTtcbiAgfTtcblxuICBkZWxldGVJdGVtID0gKCkgPT4ge1xuICAgIGxldCBmb29kWDtcbiAgICBsZXQgZm9vZFk7XG5cbiAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5mb29kcykge1xuICAgICAgbGV0IGZvb2QgPSB0aGlzLmZvb2RzW2tleV07XG4gICAgICBmb29kWCA9IGZvb2QueDtcbiAgICAgIGZvb2RZID0gZm9vZC55O1xuICAgICAgaWYgKFxuICAgICAgICBmb29kWCAtIDIwIDw9IHRoaXMuY2F0LnggKyAzICYmXG4gICAgICAgIGZvb2RYICsgZm9vZC53aWR0aCA+PSB0aGlzLmNhdC54ICsgdGhpcy5jYXQud2lkdGggLSAzICYmXG4gICAgICAgIGZvb2RZIC0gMjAgPD0gdGhpcy5jYXQueSArIDMgJiZcbiAgICAgICAgZm9vZFkgKyBmb29kLmhlaWdodCA+PSB0aGlzLmNhdC55ICsgdGhpcy5jYXQuaGVpZ2h0IC0gMyAmJlxuICAgICAgICB0aGlzLnNwYWNlUHJlc3NlZFxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLm9ic3RhY2xlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuZm9vZHNba2V5XTtcbiAgICAgICAgICB0aGlzLm9ic3RhY2xlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgIHRoaXMuc3BhY2VQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5taXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBhbmltYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBhbmltYXRlTG9vcCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmRyYXcoKTtcbiAgICAgICAgdGhpcy5kcmF3Qm9hcmQoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbkNoYW5nZSh0aGlzLmNhdCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUG9zaXRpb25VcGRhdGUoKTtcbiAgICAgICAgdGhpcy5kZWxldGVJdGVtKCk7XG4gICAgICAgIHRoaXMuaXNFcXVhbCh0aGlzLm9ic3RhY2xlKTtcbiAgICAgICAgdGhpcy5jYXQuZHJhdygpO1xuICAgICAgICBpZiAoIXRoaXMubWlzcyAmJiAhdGhpcy5wYXNzKSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVMb29wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKFwiM1wiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGFuaW1hdGVMb29wKCk7XG4gICAgfSk7XG4gIH07XG5cbiAga2V5VXBIYW5kbGVyID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuICAgICAgdGhpcy5yaWdodFByZXNzZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzcpIHtcbiAgICAgIHRoaXMubGVmdFByZXNzZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHtcbiAgICAgIHRoaXMudXBQcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwKSB7XG4gICAgICB0aGlzLmRvd25QcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDMyKSB7XG4gICAgICB0aGlzLnNwYWNlUHJlc3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBrZXlEb3duSGFuZGxlciA9IChlKSA9PiB7XG4gICAgbGV0IHkgPSAwO1xuICAgIGlmIChlLmtleUNvZGUgPT09IDM5KSB7XG4gICAgICB0aGlzLnJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG4gICAgICB0aGlzLmxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHtcbiAgICAgIHRoaXMudXBQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIHkgLT0gNzQ7XG4gICAgICBjb25zb2xlLmxvZyh5KTtcbiAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgIHRoaXMuZG93blByZXNzZWQgPSB0cnVlO1xuXG4gICAgICB5ICs9IDc0O1xuICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzMikge1xuICAgICAgdGhpcy5zcGFjZVByZXNzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuY2F0Lm1vdmUoMCwgeSk7XG4gIH07XG5cbiAgcG9zaXRpb25DaGFuZ2UgPSAocHJvcCkgPT4ge1xuICAgIGxldCB4ID0gMDtcbiAgICAvLyBsZXQgeSA9IDA7XG5cbiAgICBpZiAodGhpcy5yaWdodFByZXNzZWQgJiYgcHJvcC54IDwgdGhpcy5jYW52YXMud2lkdGggLSBwcm9wLndpZHRoKSB7XG4gICAgICB4ICs9IDM7XG4gICAgfSBlbHNlIGlmICh0aGlzLmxlZnRQcmVzc2VkICYmIHByb3AueCA+IDApIHtcbiAgICAgIHggLT0gMztcbiAgICB9XG4gICAgLy8gZWxzZSBpZiAodGhpcy51cFByZXNzZWQgJiYgcHJvcC55ID4gdGhpcy53YWxsLndpZHRoIC0gOSkge1xuICAgIC8vICAgeSAtPSAzO1xuICAgIC8vIH0gZWxzZSBpZiAoXG4gICAgLy8gICB0aGlzLmRvd25QcmVzc2VkICYmXG4gICAgLy8gICB5IDwgdGhpcy5jYW52YXMuaGVpZ2h0IC0gcHJvcC53aWR0aCAtIHRoaXMud2FsbC53aWR0aCAtIDVcbiAgICAvLyApIHtcbiAgICAvLyAgIHkgKz0gMztcbiAgICAvLyB9XG5cbiAgICBwcm9wLm1vdmUoeCwgMCk7XG4gIH07XG5cbiAgc3ByaXRlUG9zaXRpb25VcGRhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucmlnaHRQcmVzc2VkKSB7XG4gICAgICBpZiAodGhpcy5mcmFtZVggPj0gOCkge1xuICAgICAgICB0aGlzLmZyYW1lWCA9IDY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lWCArPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5sZWZ0UHJlc3NlZCkge1xuICAgICAgaWYgKHRoaXMuZnJhbWVYID49IDgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVggPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcmFtZVggKz0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMudXBQcmVzc2VkKSB7XG4gICAgICBpZiAodGhpcy5mcmFtZVggPj0gMikge1xuICAgICAgICB0aGlzLmZyYW1lWCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lWCArPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5kb3duUHJlc3NlZCkge1xuICAgICAgaWYgKHRoaXMuZnJhbWVYID49IDIpIHtcbiAgICAgICAgdGhpcy5mcmFtZVggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcmFtZVggKz0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jYXQuY2hhbmdlRnJhbWUodGhpcy5mcmFtZVgsIDApO1xuICB9O1xuXG4gIGlzRXF1YWwgPSAob2JzdGFjbGVTZXQpID0+IHtcbiAgICBpZiAob2JzdGFjbGVTZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgdGhpcy5wYXNzID0gdHJ1ZTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBnYW1lUmVzdWx0SW1nVXJscyB9IGZyb20gXCIuL2RhdGFcIjtcbmltcG9ydCB7IFByb3AgfSBmcm9tIFwiLi4vcHJvcFwiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVSZXN1bHRQcm9wcyA9ICgpID0+IHtcbiAgbGV0IGdhbWVSZXN1bHRQcm9wcyA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gZ2FtZVJlc3VsdEltZ1VybHMpIHtcbiAgICBpZiAoIShrZXkgaW4gZ2FtZVJlc3VsdFByb3BzKSkge1xuICAgICAgZ2FtZVJlc3VsdFByb3BzW2tleV0gPSBbXTtcbiAgICB9XG4gICAgZ2FtZVJlc3VsdEltZ1VybHNba2V5XS5mb3JFYWNoKChlKSA9PlxuICAgICAgZ2FtZVJlc3VsdFByb3BzW2tleV0ucHVzaChuZXcgUHJvcCgwLCAwLCBlLCAwLCAwKSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGdhbWVSZXN1bHRQcm9wcztcbn07XG4iLCJpbXBvcnQgeyBQcm9wIH0gZnJvbSBcIi4uL3Byb3BcIjtcblxuY29uc3QgcG9zaXRpb25BcnJHZW5lcmF0b3IgPSAoXG4gIGZpcnN0WCA9IDYzLFxuICBmaXJzdFkgPSA0NSxcbiAgaGVpZ2h0ID0gNzIsXG4gIHdpZHRoID0gNDYsXG4gIHBhbnRyeUxldmVsID0gNVxuKSA9PiB7XG4gIGxldCByZXN1bHQgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKSB7XG4gICAgICBpZiAoKGkgPT09IDQgJiYgaiA9PT0gMCkgfHwgKGkgPT09IDQgJiYgaiA9PT0gMSkpIGNvbnRpbnVlO1xuICAgICAgcmVzdWx0LnB1c2goW2ZpcnN0WCArIHdpZHRoICogaiwgZmlyc3RZICsgaGVpZ2h0ICogaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21Qcm9wcyhjdXJyZW50TGV2ZWwsIGltYWdlVXJscykge1xuICBjb25zdCBwb3NpdGlvbkFycmF5ID0gcG9zaXRpb25BcnJHZW5lcmF0b3IoKTtcbiAgbGV0IGlkeCA9IDA7XG5cbiAgbGV0IHJhbmRvbUltYWdlVXJscyA9IG5ldyBTZXQoKTtcbiAgbGV0IHJhbmRvbVBvc2l0aW9uU2V0ID0gbmV3IFNldCgpO1xuICBsZXQgZWxlbWVudENvdW50ID0gY3VycmVudExldmVsICsgMTI7XG4gIGxldCByZXN1bHQgPSB7fTtcblxuICB3aGlsZSAocmFuZG9tSW1hZ2VVcmxzLnNpemUgPCBlbGVtZW50Q291bnQpIHtcbiAgICBpZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBpbWFnZVVybHMubGVuZ3RoKTtcbiAgICByYW5kb21JbWFnZVVybHMuYWRkKGlkeCk7XG4gIH1cblxuICB3aGlsZSAocmFuZG9tUG9zaXRpb25TZXQuc2l6ZSA8IGVsZW1lbnRDb3VudCkge1xuICAgIGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc2l0aW9uQXJyYXkubGVuZ3RoKTtcbiAgICByYW5kb21Qb3NpdGlvblNldC5hZGQoaWR4KTtcbiAgfVxuXG4gIGxldCBpbWdBcnIgPSBBcnJheS5mcm9tKHJhbmRvbUltYWdlVXJscyk7XG4gIGxldCBwb3NBcnIgPSBBcnJheS5mcm9tKHJhbmRvbVBvc2l0aW9uU2V0KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGltZ0Fyci5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtpXSA9IG5ldyBQcm9wKFxuICAgICAgMzIsXG4gICAgICAzMixcbiAgICAgIGltYWdlVXJsc1tpbWdBcnJbaV1dLFxuICAgICAgcG9zaXRpb25BcnJheVtwb3NBcnJbaV1dWzBdLFxuICAgICAgcG9zaXRpb25BcnJheVtwb3NBcnJbaV1dWzFdXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgeyBQcm9wIH0gZnJvbSBcIi4uL3Byb3BcIjtcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBjdXJyZW50TGV2ZWxcbiAqIEBwYXJhbSB7Kn0gZm9vZEtleXNcbiAqXG4gKiByYW5kb21seSBjaG9vc2Ugb2JzdGFjbGVzIG91dCBvZiB0aGUga2V5cyBvZiBjaG9zZW4gZm9vZCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlT2JzdGFjbGUoY3VycmVudExldmVsLCBmb29kS2V5cykge1xuICBsZXQgb2JzdGFjbGVLZXlzID0gbmV3IFNldCgpO1xuXG4gIHdoaWxlIChvYnN0YWNsZUtleXMuc2l6ZSA8IGN1cnJlbnRMZXZlbCkge1xuICAgIGxldCByYW5kb21LZXkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBmb29kS2V5cy5sZW5ndGgpO1xuICAgIG9ic3RhY2xlS2V5cy5hZGQoZm9vZEtleXNbcmFuZG9tS2V5XSk7XG4gIH1cbiAgcmV0dXJuIG9ic3RhY2xlS2V5cztcbn1cbiIsImltcG9ydCB7IEJvYXJkIH0gZnJvbSBcIi4vYm9hcmRcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWUge1xuICBsZXZlbCA9IDE7XG4gIGJvYXJkID0gbmV3IEJvYXJkKCk7XG4gIGRvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtb3ZlclwiKTtcbiAgd2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5cIik7XG4gIG9ic3RhY2xlcyA9IG5ldyBTZXQoKTtcbiAgcm91bmQgPSAxO1xuICB0cmllcyA9IDM7XG4gIGN1cnJlbnRTY29yZSA9IDA7XG5cbiAgcGxheSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy50cmllcyA8PSAwKSB7XG4gICAgICB0aGlzLmJvYXJkLmdhbWVPdmVyKCk7XG4gICAgICB0aGlzLnRyaWVzID0gMztcbiAgICAgIHRoaXMuZG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICh0aGlzLnJvdW5kID09PSAyKSB7XG4gICAgICB0aGlzLmJvYXJkLmdhbWVPdmVyKCk7XG5cbiAgICAgIHRoaXMubGV2ZWwrKztcbiAgICAgIHRoaXMucm91bmQgPSAxO1xuICAgICAgdGhpcy53aW4uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYm9hcmRcbiAgICAgIC5pbml0SXRlbXModGhpcy5yb3VuZClcbiAgICAgIC50aGVuKChyZXMpID0+XG4gICAgICAgIHRoaXMuYm9hcmQuYmVmb3JlR2FtZVN0YXJ0KHRoaXMucm91bmQsIHRoaXMudHJpZXMsIHRoaXMubGV2ZWwpXG4gICAgICApXG4gICAgICAudGhlbigocmVzKSA9PlxuICAgICAgICB0aGlzLmJvYXJkLnNob3dPYnN0YWNsZSh0aGlzLnJvdW5kLCB0aGlzLnRyaWVzLCB0aGlzLmxldmVsKVxuICAgICAgKVxuICAgICAgLnRoZW4oKHJlcykgPT4gdGhpcy5ib2FyZC5hbmltYXRlKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB0aGlzLmJvYXJkLnJvdW5kUmVzdWx0KCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHRoaXMudHJpZXMgKz0gcmVzLm1pc3M7XG4gICAgICAgIHRoaXMucm91bmQgKz0gcmVzLm1pc3MgKyAxO1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgIH0pO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcblxuZXhwb3J0IGNsYXNzIEludHJvUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ2FtZSA9IG51bGw7XG5cbiAgICB0aGlzLm1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5cIik7XG4gICAgdGhpcy5hYm91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWJvdXQtcGFnZVwiKTtcbiAgICB0aGlzLmdhbWVvdmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLW92ZXJcIik7XG4gICAgdGhpcy53aW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpblwiKTtcblxuICAgIHRoaXMuZ2FtZUludHJvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLWludHJvXCIpO1xuICAgIHRoaXMuc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0XCIpO1xuICAgIHRoaXMuYWJvdXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFib3V0XCIpO1xuICAgIHRoaXMuYmFja0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja1wiKTtcbiAgICB0aGlzLmJhY2tUb01haW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2stdG8tbWFpblwiKTtcbiAgICB0aGlzLm5leHRMZXZlbEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dC1sZXZlbFwiKTtcblxuICAgIHRoaXMubWFpbi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgdGhpcy5nYW1lU3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLmdhbWVvdmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCcuL2ltYWdlL2NhdC9sb3NlLnBuZycpXCI7XG4gICAgdGhpcy53aW4uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJy4vaW1hZ2UvY2F0L3dpbm5lci5wbmcnKVwiO1xuXG4gICAgdGhpcy5hYm91dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hYm91dEJ1dHRvbkhhbmRsZXIpO1xuICAgIHRoaXMuc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc3RhcnRCdXR0b25IYW5kbGVyKTtcbiAgICB0aGlzLmJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYmFja0J1dHRvbkhhbmRsZXIpO1xuICAgIHRoaXMuYmFja1RvTWFpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgdGhpcy5iYWNrVG9NYWluQnV0dG9uSGFuZGxlclxuICAgICk7XG4gICAgdGhpcy5uZXh0TGV2ZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMubmV4dEJ1dHRvbkhhbmRsZXIpO1xuICB9XG5cbiAgYWJvdXRCdXR0b25IYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuYWJvdXQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMuZ2FtZUludHJvLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfTtcblxuICBzdGFydEJ1dHRvbkhhbmRsZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5tYWluLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICB0aGlzLmdhbWVJbnRyby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy5nYW1lID0gbmV3IEdhbWUoKTtcbiAgICB0aGlzLmdhbWUucGxheSgpO1xuICB9O1xuXG4gIGJhY2tCdXR0b25IYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuYWJvdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHRoaXMuZ2FtZUludHJvLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICB9O1xuXG4gIGJhY2tUb01haW5CdXR0b25IYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuZ2FtZUludHJvLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICB0aGlzLmdhbWVvdmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfTtcblxuICBuZXh0QnV0dG9uSGFuZGxlciA9ICgpID0+IHtcbiAgICB0aGlzLm1haW4uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXG4gICAgdGhpcy53aW4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHRoaXMuZ2FtZS5wbGF5KCk7XG4gIH07XG59XG4iLCJpbXBvcnQgXCIuL2Nzcy9tYWluLmNzc1wiO1xuXG5pbXBvcnQgeyBJbnRyb1BhZ2UgfSBmcm9tIFwiLi9pbnRyb1BhZ2VcIjtcblxud2luZG93Lm9ubG9hZCA9IChlKSA9PiB7XG4gIG5ldyBJbnRyb1BhZ2UoKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9